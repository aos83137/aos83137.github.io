<!DOCTYPE html>
<html lang="ko" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloudflare (NET) 대화형 기업가치 분석</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: A thematic, dashboard-first single-page application. The structure begins with a high-level summary dashboard, allowing users to grasp the core story instantly. It then progresses into deeper, tabbed sections for Financial Analysis, Investment Ratios, and Valuation Methodologies. This non-linear structure prioritizes user-driven exploration over passive, linear reading of the original report. Navigation is facilitated by a sticky header, enabling quick jumps between thematic sections. This design choice transforms the static report into an intuitive, interactive tool for understanding Cloudflare's complex valuation. -->
    <!-- Visualization & Content Choices: 
        1.  **Core Story (Dashboard):** Report Info: Revenue growth vs. Net Loss vs. strong CFO. Goal: Tell the main story upfront. Viz: Combined Bar/Line Chart (Chart.js). Interaction: Hover tooltips. Justification: This visual immediately communicates the central conflict/story of a high-growth, cash-generating but unprofitable company.
        2.  **Financial Statements:** Report Info: Key items from Income Statement, Balance Sheet, Cash Flow. Goal: Allow detailed exploration of each statement. Viz: Bar charts for each statement (Chart.js). Interaction: Tabs to switch between statements, buttons to switch years. Justification: Tabs organize complex data cleanly. Bar charts are ideal for comparing component magnitudes.
        3.  **Investment Ratios:** Report Info: High PSR/PBR vs. industry, N/A PER. Goal: Highlight valuation premium. Viz: Horizontal Bar Chart (Chart.js) for comparison, interactive cards for definitions. Interaction: Clickable cards revealing detailed explanations. Justification: Direct visual comparison emphasizes the valuation gap. Interactive cards provide layered information without cluttering the UI.
        4.  **Valuation Methods:** Report Info: Definitions of Asset, Income (DCF), Relative valuation. Goal: Educate users on valuation theory. Viz: HTML/CSS flexbox layout for a clean, infographic-style diagram. Interaction: None. Justification: A simple, semantic HTML structure is more accessible, responsive, and lightweight than a static image or complex script.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8f9fa;
            color: #343a40;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 450px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .kpi-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .nav-button {
            transition: color 0.3s ease, border-bottom-color 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-button:hover, .nav-button.active {
            color: #f97316;
            border-bottom-color: #f97316;
        }
        .tab-button {
            transition: all 0.3s ease;
        }
        .tab-button.active {
            background-color: #f97316;
            color: white;
        }
        .content-section {
            padding-top: 80px;
            margin-top: -80px;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-orange-500">☁️</span>
                    <span class="ml-3 text-xl font-bold text-gray-700">Cloudflare (NET) 가치 분석</span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#dashboard" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-gray-600">종합 대시보드</a>
                        <a href="#financials" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-gray-600">심층 재무 분석</a>
                        <a href="#ratios" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-gray-600">주요 투자 지표</a>
                        <a href="#valuation" class="nav-button px-3 py-2 rounded-md text-sm font-medium text-gray-600">가치 평가 방법론</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">

        <section id="dashboard" class="content-section text-center py-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800 mb-4">Cloudflare, 성장의 기회와 위험</h1>
            <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-8">
                이 분석은 Cloudflare의 재무 건전성, 투자 매력도, 그리고 내재 가치를 종합적으로 탐색합니다. 높은 성장성 이면에 숨겨진 재무적 특성과 시장의 높은 기대치를 데이터를 통해 직관적으로 확인해보세요.
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                <div class="kpi-card text-left">
                    <h3 class="text-gray-500 font-medium">매출액 성장률 (2024)</h3>
                    <p class="text-3xl font-bold text-green-600 mt-2">+28.76%</p>
                    <p class="text-sm text-gray-500 mt-1">견고한 외형 성장 지속</p>
                </div>
                <div class="kpi-card text-left">
                    <h3 class="text-gray-500 font-medium">매출총이익률 (2024)</h3>
                    <p class="text-3xl font-bold text-blue-600 mt-2">77.32%</p>
                    <p class="text-sm text-gray-500 mt-1">핵심 사업의 높은 수익성</p>
                </div>
                <div class="kpi-card text-left">
                    <h3 class="text-gray-500 font-medium">영업활동 현금흐름 (2024)</h3>
                    <p class="text-3xl font-bold text-teal-600 mt-2">$380.4M</p>
                    <p class="text-sm text-gray-500 mt-1">강력한 현금 창출 능력</p>
                </div>
                <div class="kpi-card text-left">
                    <h3 class="text-gray-500 font-medium">잉여현금흐름 (2024)</h3>
                    <p class="text-3xl font-bold text-purple-600 mt-2">$357.8M</p>
                    <p class="text-sm text-gray-500 mt-1">높은 재무적 유연성</p>
                </div>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold text-gray-800 mb-2">핵심 재무 스토리: 성장, 적자, 그리고 현금</h2>
                <p class="text-gray-600 mb-6 max-w-2xl mx-auto">매출(파란색 막대)은 폭발적으로 증가하지만, 순이익(붉은색 선)은 여전히 적자입니다. 하지만 주목할 점은 영업활동 현금흐름(녹색 선)이 꾸준히 증가하며 강력한 현금 창출 능력을 보여준다는 것입니다. 이것이 Cloudflare의 핵심 재무 특성입니다.</p>
                <div class="chart-container">
                    <canvas id="coreFinancialsChart"></canvas>
                </div>
            </div>
        </section>

        <section id="financials" class="content-section py-12">
            <h2 class="text-3xl font-bold text-center mb-2 text-gray-800">심층 재무 분석: 기업의 건강 진단서</h2>
            <p class="text-lg text-center text-gray-600 mb-8 max-w-3xl mx-auto">손익계산서, 재무상태표, 현금흐름표는 기업의 세 가지 핵심 건강 지표입니다. 각 보고서가 Cloudflare의 수익성, 안정성, 현금 흐름에 대해 무엇을 말해주는지 알아보세요.</p>
            
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <div class="mb-6 text-center">
                    <div id="financials-tabs" class="inline-flex rounded-md shadow-sm" role="group">
                        <button type="button" data-target="income" class="tab-button active px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-l-lg hover:bg-gray-100">
                            손익계산서
                        </button>
                        <button type="button" data-target="balance" class="tab-button px-4 py-2 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-gray-100">
                            재무상태표
                        </button>
                        <button type="button" data-target="cashflow" class="tab-button px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-r-md hover:bg-gray-100">
                            현금흐름표
                        </button>
                    </div>
                </div>

                <div id="financials-content" class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                    <div class="chart-container h-96 md:h-[450px]">
                        <canvas id="financialsChart"></canvas>
                    </div>
                    <div id="financials-explanation" class="text-gray-700">
                    </div>
                </div>
            </div>
        </section>

        <section id="ratios" class="content-section py-12">
            <h2 class="text-3xl font-bold text-center mb-2 text-gray-800">주요 투자 지표: 시장의 시선</h2>
            <p class="text-lg text-center text-gray-600 mb-8 max-w-3xl mx-auto">투자 지표는 기업의 가치를 시장의 다른 기업들과 비교하는 렌즈입니다. Cloudflare의 지표는 시장이 이 기업의 미래를 얼마나 낙관적으로 보는지 명확하게 보여줍니다.</p>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-4">매출액 대비 가치 (PSR) 비교</h3>
                    <p class="text-gray-600 mb-4">Cloudflare의 PSR(주가매출액비율)은 37.9로, 동종 IT 산업 평균인 2.6에 비해 월등히 높습니다. 이는 시장이 Cloudflare의 미래 매출 성장 가능성에 매우 높은 프리미엄을 부여하고 있음을 의미합니다.</p>
                    <div class="chart-container h-64">
                        <canvas id="psrChart"></canvas>
                    </div>
                </div>
                 <div class="bg-white p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-4">투자 지표 해부하기</h3>
                    <p class="text-gray-600 mb-4">각 지표를 클릭하여 의미와 Cloudflare에 대한 시사점을 확인하세요.</p>
                    <div class="space-y-3">
                        <div class="ratio-card border border-gray-200 p-4 rounded-lg cursor-pointer hover:bg-gray-100 transition">
                            <h4 class="font-semibold text-lg">PER (주가수익비율)</h4>
                            <p class="text-sm text-gray-500 ratio-detail hidden mt-2"><b>의미:</b> 주가를 주당순이익(EPS)으로 나눈 값. 이익 대비 주가 수준을 나타냅니다.<br><b>Cloudflare:</b> 현재 순이익이 적자이므로 계산할 수 없습니다. 이는 기업이 수익성보다 성장에 집중하는 초기 단계임을 보여줍니다.</p>
                        </div>
                        <div class="ratio-card border border-gray-200 p-4 rounded-lg cursor-pointer hover:bg-gray-100 transition">
                            <h4 class="font-semibold text-lg">PBR (주가순자산비율)</h4>
                            <p class="text-sm text-gray-500 ratio-detail hidden mt-2"><b>의미:</b> 주가를 주당순자산(BPS)으로 나눈 값. 장부상 자산 가치 대비 주가 수준을 나타냅니다.<br><b>Cloudflare:</b> 45.25로 매우 높습니다. 이는 시장이 기술력, 브랜드 등 무형자산과 미래 성장 잠재력을 높게 평가하고 있음을 의미합니다.</p>
                        </div>
                        <div class="ratio-card border border-gray-200 p-4 rounded-lg cursor-pointer hover:bg-gray-100 transition">
                            <h4 class="font-semibold text-lg">EV/EBITDA</h4>
                            <p class="text-sm text-gray-500 ratio-detail hidden mt-2"><b>의미:</b> 기업가치(EV)를 상각전영업이익(EBITDA)으로 나눈 값. 기업의 순수한 현금 창출 능력 대비 가치를 평가합니다.<br><b>Cloudflare:</b> EBITDA가 마이너스이므로 음수 값을 가집니다. 아직 영업활동을 통해 현금을 창출하는 단계에 이르지 못했음을 보여줍니다.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="valuation" class="content-section py-12">
            <h2 class="text-3xl font-bold text-center mb-2 text-gray-800">가치 평가 방법론: 기업의 내재 가치 찾기</h2>
            <p class="text-lg text-center text-gray-600 mb-8 max-w-3xl mx-auto">기업의 가치를 평가하는 세 가지 주요 접근법과, Cloudflare와 같은 성장주에 가장 적합한 현금흐름할인법(DCF)에 대해 알아봅니다.</p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                <div class="bg-white p-6 rounded-lg shadow-lg text-center">
                    <div class="text-4xl mb-4">🏢</div>
                    <h3 class="text-xl font-bold mb-2">자산 가치 평가</h3>
                    <p class="text-gray-600">기업의 순자산(자산-부채) 가치를 기반으로 평가합니다. 청산 가치를 볼 때 유용하지만, 미래 성장성을 반영하지 못합니다.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg text-center border-2 border-orange-400">
                    <div class="text-4xl mb-4">💰</div>
                    <h3 class="text-xl font-bold mb-2">수익 가치 평가 (DCF)</h3>
                    <p class="text-gray-600">미래에 창출할 현금 흐름을 현재 가치로 할인하여 평가합니다. 기업의 본질적 가치를 측정하지만, 미래 예측의 불확실성이 큽니다.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg text-center">
                    <div class="text-4xl mb-4">📊</div>
                    <h3 class="text-xl font-bold mb-2">상대 가치 평가</h3>
                    <p class="text-gray-600">유사한 기업들의 시장 가치(PER, PSR 등)와 비교하여 평가합니다. 직관적이지만, 시장 전체가 과열되면 가치가 왜곡될 수 있습니다.</p>
                </div>
            </div>

            <div class="bg-white p-8 rounded-lg shadow-lg">
                <h3 class="text-2xl font-bold text-center mb-6">DCF 심층 분석: 미래를 현재 가치로 바꾸는 마법</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="font-semibold text-lg mb-2">핵심 개념</h4>
                        <ul class="space-y-4">
                            <li class="flex items-start">
                                <span class="text-2xl mr-4">🔮</span>
                                <div>
                                    <h5 class="font-bold">미래 현금 흐름 예측</h5>
                                    <p class="text-gray-600">기업이 앞으로 벌어들일 잉여 현금을 예측하는 단계. 성장률, 수익성, 투자 계획 등 수많은 가정이 필요합니다.</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-2xl mr-4">⚖️</span>
                                <div>
                                    <h5 class="font-bold">할인율 적용</h5>
                                    <p class="text-gray-600">미래의 돈은 현재의 돈보다 가치가 낮습니다. '할인율'은 미래 현금의 가치를 위험도를 반영하여 현재 가치로 환산하는 이자율과 같습니다.</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-semibold text-lg mb-2">장점과 한계</h4>
                        <div class="space-y-4">
                            <div>
                                <h5 class="font-bold text-green-600">👍 장점</h5>
                                <p class="text-gray-600">기업의 본질적인 가치를 평가할 수 있고, 시장의 단기 변동에 휘둘리지 않습니다.</p>
                            </div>
                            <div>
                                <h5 class="font-bold text-red-600">👎 한계</h5>
                                <p class="text-gray-600">미래 예측과 할인율 설정에 평가자의 주관이 개입될 여지가 커, 결과의 신뢰성이 가정에 따라 크게 달라집니다.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-800 text-white mt-12">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 text-center text-sm">
            <p>&copy; 2024 Cloudflare 가치 분석. 본 자료는 정보 제공을 목적으로 하며, 투자 권유를 의미하지 않습니다.</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

    const financialData = {
        income: {
            labels: ['2022', '2023', '2024'],
            datasets: [
                {
                    label: '매출액',
                    data: [975.24, 1296.67, 1669.63],
                    backgroundColor: 'rgba(59, 130, 246, 0.7)',
                    borderColor: 'rgba(59, 130, 246, 1)',
                    borderWidth: 1,
                    stack: 'stack 0',
                },
                {
                    label: '매출총이익',
                    data: [746.52, 994.57, 1290.92],
                    backgroundColor: 'rgba(34, 197, 94, 0.7)',
                    borderColor: 'rgba(34, 197, 94, 1)',
                    borderWidth: 1,
                    stack: 'stack 1',
                },
                 {
                    label: '영업이익',
                    data: [-204.64, -172.96, -139.06],
                    backgroundColor: 'rgba(239, 68, 68, 0.7)',
                    borderColor: 'rgba(239, 68, 68, 1)',
                    borderWidth: 1,
                    stack: 'stack 2',
                }
            ],
            explanation: `
                <h3 class="text-xl font-bold mb-3">수익성: 성장을 위한 전략적 적자</h3>
                <ul class="space-y-2 list-disc list-inside">
                    <li><b>매출액</b>은 매년 가파르게 성장하며 시장 지배력을 확대하고 있음을 보여줍니다.</li>
                    <li><b>매출총이익률</b>이 77% 이상으로 매우 높아, 핵심 서비스의 원가 경쟁력이 뛰어남을 의미합니다.</li>
                    <li><b>영업이익</b>은 연구개발(R&D) 및 마케팅 비용 등 대규모 투자로 인해 아직 적자 상태입니다. 이는 단기 수익보다 장기 성장에 집중하는 전략을 시사합니다.</li>
                </ul>
            `,
            chartType: 'bar'
        },
        balance: {
            labels: ['2022', '2023', '2024'],
            datasets: [
                {
                    label: '총자산',
                    data: [2890.13, 2759.72, 3301.16],
                    backgroundColor: 'rgba(59, 130, 246, 0.7)',
                },
                {
                    label: '총부채',
                    data: [2081.99, 1996.79, 2254.96],
                    backgroundColor: 'rgba(239, 68, 68, 0.7)',
                },
                 {
                    label: '총자본',
                    data: [808.14, 762.93, 1046.2],
                    backgroundColor: 'rgba(34, 197, 94, 0.7)',
                }
            ],
            explanation: `
                <h3 class="text-xl font-bold mb-3">안정성: 유동성과 부채의 공존</h3>
                <ul class="space-y-2 list-disc list-inside">
                    <li><b>총자산</b>이 꾸준히 증가하며 기업 규모가 커지고 있습니다.</li>
                    <li>$18억 달러 이상의 <b>현금 및 단기 투자 자산</b>을 보유하여 단기 재무 안정성이 매우 높습니다.</li>
                    <li>누적된 적자로 인한 <b>이월결손금</b>과 <b>장기 부채</b>가 존재하지만, 강력한 유동성이 이를 상쇄하고 있습니다.</li>
                </ul>
            `,
            chartType: 'bar'
        },
        cashflow: {
            labels: ['2022', '2023', '2024'],
            datasets: [
                {
                    label: '영업활동 현금흐름 (CFO)',
                    data: [123.6, 254.41, 380.43],
                    backgroundColor: 'rgba(34, 197, 94, 0.7)',
                },
                {
                    label: '투자활동 현금흐름 (CFI)',
                    data: [-1290.3, 269.8, -330.22],
                    backgroundColor: 'rgba(249, 115, 22, 0.7)',
                },
                {
                    label: '재무활동 현금흐름 (CFF)',
                    data: [12.01, -12.39, 12.79],
                    backgroundColor: 'rgba(168, 85, 247, 0.7)',
                }
            ],
            explanation: `
                <h3 class="text-xl font-bold mb-3">현금 흐름: 적자 속에서 돈을 버는 능력</h3>
                <ul class="space-y-2 list-disc list-inside">
                    <li><b>영업활동 현금흐름(CFO)</b>이 강력하게 증가하고 있습니다. 이는 순이익이 적자임에도 불구하고, 실제 영업 활동을 통해 현금을 잘 벌어들이고 있음을 의미하는 가장 긍정적인 신호입니다.</li>
                    <li><b>투자활동 현금흐름(CFI)</b>은 마이너스(-)를 기록하며, 미래 성장을 위한 설비 투자 및 M&A에 적극적으로 나서고 있음을 보여줍니다.</li>
                </ul>
            `,
            chartType: 'bar'
        }
    };

    let financialsChartInstance;

    function renderFinancialsChart(type) {
        const data = financialData[type];
        const ctx = document.getElementById('financialsChart').getContext('2d');
        
        if (financialsChartInstance) {
            financialsChartInstance.destroy();
        }

        financialsChartInstance = new Chart(ctx, {
            type: data.chartType,
            data: {
                labels: data.labels,
                datasets: data.datasets
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', notation: 'compact' }).format(context.parsed.y * 1000000);
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        ticks: {
                            callback: function(value, index, values) {
                                return new Intl.NumberFormat('en-US', { notation: 'compact' }).format(value * 1000000);
                            }
                        }
                    }
                }
            }
        });
        document.getElementById('financials-explanation').innerHTML = data.explanation;
    }

    document.getElementById('financials-tabs').addEventListener('click', (e) => {
        if (e.target.tagName === 'BUTTON') {
            const targetType = e.target.dataset.target;
            renderFinancialsChart(targetType);
            
            document.querySelectorAll('#financials-tabs button').forEach(btn => btn.classList.remove('active'));
            e.target.classList.add('active');
        }
    });

    renderFinancialsChart('income');

    const coreFinancialsCtx = document.getElementById('coreFinancialsChart').getContext('2d');
    new Chart(coreFinancialsCtx, {
        type: 'bar',
        data: {
            labels: ['2021', '2022', '2023', '2024'],
            datasets: [
                {
                    type: 'line',
                    label: '당기순이익',
                    data: [-535.06, -193.38, -183.99, -78.8],
                    borderColor: 'rgba(239, 68, 68, 1)',
                    backgroundColor: 'rgba(239, 68, 68, 0.2)',
                    yAxisID: 'y',
                    tension: 0.1,
                    fill: false
                },
                {
                    type: 'line',
                    label: '영업활동 현금흐름',
                    data: [64.65, 123.6, 254.41, 380.43],
                    borderColor: 'rgba(34, 197, 94, 1)',
                    backgroundColor: 'rgba(34, 197, 94, 0.2)',
                    yAxisID: 'y',
                    tension: 0.1,
                    fill: false
                },
                {
                    type: 'bar',
                    label: '매출액',
                    data: [656.43, 975.24, 1296.67, 1669.63],
                    backgroundColor: 'rgba(59, 130, 246, 0.7)',
                    borderColor: 'rgba(59, 130, 246, 1)',
                    yAxisID: 'y1',
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                mode: 'index',
                intersect: false,
            },
            scales: {
                y: {
                    type: 'linear',
                    display: true,
                    position: 'left',
                    title: {
                        display: true,
                        text: '순이익/현금흐름 (백만 USD)'
                    },
                    ticks: {
                        callback: function(value) {
                            return value + 'M';
                        }
                    }
                },
                y1: {
                    type: 'linear',
                    display: true,
                    position: 'right',
                    grid: {
                        drawOnChartArea: false,
                    },
                    title: {
                        display: true,
                        text: '매출액 (백만 USD)'
                    },
                     ticks: {
                        callback: function(value) {
                            return value + 'M';
                        }
                    }
                }
            },
            plugins: {
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed.y !== null) {
                                label += context.parsed.y + 'M USD';
                            }
                            return label;
                        }
                    }
                }
            }
        }
    });

    const psrCtx = document.getElementById('psrChart').getContext('2d');
    new Chart(psrCtx, {
        type: 'bar',
        data: {
            labels: ['주가매출액비율 (PSR)'],
            datasets: [
                {
                    label: 'Cloudflare (NET)',
                    data: [37.9],
                    backgroundColor: 'rgba(249, 115, 22, 0.7)',
                    borderColor: 'rgba(249, 115, 22, 1)',
                    borderWidth: 1
                },
                {
                    label: 'IT 산업 평균',
                    data: [2.6],
                    backgroundColor: 'rgba(107, 114, 128, 0.7)',
                    borderColor: 'rgba(107, 114, 128, 1)',
                    borderWidth: 1
                }
            ]
        },
        options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                }
            },
            scales: {
                x: {
                    title: {
                        display: true,
                        text: '비율 (배)'
                    }
                }
            }
        }
    });
    
    document.querySelectorAll('.ratio-card').forEach(card => {
        card.addEventListener('click', () => {
            const detail = card.querySelector('.ratio-detail');
            detail.classList.toggle('hidden');
        });
    });

    const sections = document.querySelectorAll('.content-section');
    const navLinks = document.querySelectorAll('nav a');

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === entry.target.id) {
                        link.classList.add('active');
                    }
                });
            }
        });
    }, { rootMargin: "-30% 0px -70% 0px" });

    sections.forEach(section => {
        observer.observe(section);
    });

});
</script>
</body>
</html>
